{"ast":null,"code":"var _jsxFileName = \"/Users/nourelkilany/Desktop/year 4 /java/myy/src/animation/PixelTransition.jsx\",\n  _s = $RefreshSig$();\nimport { useRef, useEffect, useState } from 'react';\nimport { gsap } from 'gsap';\nimport './Pixel.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PixelTransition({\n  firstContent,\n  secondContent,\n  gridSize = 7,\n  pixelColor = 'currentColor',\n  animationStepDuration = 0.3,\n  once = false,\n  aspectRatio = '100%',\n  className = '',\n  style = {}\n}) {\n  _s();\n  const containerRef = useRef(null);\n  const pixelGridRef = useRef(null);\n  const activeRef = useRef(null);\n  const delayedCallRef = useRef(null);\n  const [isActive, setIsActive] = useState(false);\n  const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0 || window.matchMedia('(pointer: coarse)').matches;\n  useEffect(() => {\n    const pixelGridEl = pixelGridRef.current;\n    if (!pixelGridEl) return;\n    pixelGridEl.innerHTML = '';\n    for (let row = 0; row < gridSize; row++) {\n      for (let col = 0; col < gridSize; col++) {\n        const pixel = document.createElement('div');\n        pixel.classList.add('pixelated-image-card__pixel');\n        pixel.style.backgroundColor = pixelColor;\n        const size = 100 / gridSize;\n        pixel.style.width = `${size}%`;\n        pixel.style.height = `${size}%`;\n        pixel.style.left = `${col * size}%`;\n        pixel.style.top = `${row * size}%`;\n        pixelGridEl.appendChild(pixel);\n      }\n    }\n  }, [gridSize, pixelColor]);\n  const animatePixels = activate => {\n    setIsActive(activate);\n    const pixelGridEl = pixelGridRef.current;\n    const activeEl = activeRef.current;\n    if (!pixelGridEl || !activeEl) return;\n    const pixels = pixelGridEl.querySelectorAll('.pixelated-image-card__pixel');\n    if (!pixels.length) return;\n    gsap.killTweensOf(pixels);\n    if (delayedCallRef.current) {\n      delayedCallRef.current.kill();\n    }\n    gsap.set(pixels, {\n      display: 'none'\n    });\n    const totalPixels = pixels.length;\n    const staggerDuration = animationStepDuration / totalPixels;\n    gsap.to(pixels, {\n      display: 'block',\n      duration: 0,\n      stagger: {\n        each: staggerDuration,\n        from: 'random'\n      }\n    });\n    delayedCallRef.current = gsap.delayedCall(animationStepDuration, () => {\n      activeEl.style.display = activate ? 'block' : 'none';\n      activeEl.style.pointerEvents = activate ? 'none' : '';\n    });\n    gsap.to(pixels, {\n      display: 'none',\n      duration: 0,\n      delay: animationStepDuration,\n      stagger: {\n        each: staggerDuration,\n        from: 'random'\n      }\n    });\n  };\n  const handleEnter = () => {\n    if (!isActive) animatePixels(true);\n  };\n  const handleLeave = () => {\n    if (isActive && !once) animatePixels(false);\n  };\n  const handleClick = () => {\n    if (!isActive) animatePixels(true);else if (isActive && !once) animatePixels(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    className: `pixelated-image-card ${className}`,\n    style: style,\n    onMouseEnter: !isTouchDevice ? handleEnter : undefined,\n    onMouseLeave: !isTouchDevice ? handleLeave : undefined,\n    onClick: isTouchDevice ? handleClick : undefined,\n    onFocus: !isTouchDevice ? handleEnter : undefined,\n    onBlur: !isTouchDevice ? handleLeave : undefined,\n    tabIndex: 0,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        paddingTop: aspectRatio\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pixelated-image-card__default\",\n      \"aria-hidden\": isActive,\n      children: firstContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pixelated-image-card__active\",\n      ref: activeRef,\n      \"aria-hidden\": !isActive,\n      children: secondContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pixelated-image-card__pixels\",\n      ref: pixelGridRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n_s(PixelTransition, \"f4S3AZSiJI3qJjCOkstkU5wHoL0=\");\n_c = PixelTransition;\nexport default PixelTransition;\nvar _c;\n$RefreshReg$(_c, \"PixelTransition\");","map":{"version":3,"names":["useRef","useEffect","useState","gsap","jsxDEV","_jsxDEV","PixelTransition","firstContent","secondContent","gridSize","pixelColor","animationStepDuration","once","aspectRatio","className","style","_s","containerRef","pixelGridRef","activeRef","delayedCallRef","isActive","setIsActive","isTouchDevice","window","navigator","maxTouchPoints","matchMedia","matches","pixelGridEl","current","innerHTML","row","col","pixel","document","createElement","classList","add","backgroundColor","size","width","height","left","top","appendChild","animatePixels","activate","activeEl","pixels","querySelectorAll","length","killTweensOf","kill","set","display","totalPixels","staggerDuration","to","duration","stagger","each","from","delayedCall","pointerEvents","delay","handleEnter","handleLeave","handleClick","ref","onMouseEnter","undefined","onMouseLeave","onClick","onFocus","onBlur","tabIndex","children","paddingTop","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/nourelkilany/Desktop/year 4 /java/myy/src/animation/PixelTransition.jsx"],"sourcesContent":["import { useRef, useEffect, useState } from 'react';\nimport { gsap } from 'gsap';\nimport './Pixel.css';\n\nfunction PixelTransition({\n  firstContent,\n  secondContent,\n  gridSize = 7,\n  pixelColor = 'currentColor',\n  animationStepDuration = 0.3,\n  once = false,\n  aspectRatio = '100%',\n  className = '',\n  style = {}\n}) {\n  const containerRef = useRef(null);\n  const pixelGridRef = useRef(null);\n  const activeRef = useRef(null);\n  const delayedCallRef = useRef(null);\n\n  const [isActive, setIsActive] = useState(false);\n\n  const isTouchDevice =\n    'ontouchstart' in window || navigator.maxTouchPoints > 0 || window.matchMedia('(pointer: coarse)').matches;\n\n  useEffect(() => {\n    const pixelGridEl = pixelGridRef.current;\n    if (!pixelGridEl) return;\n\n    pixelGridEl.innerHTML = '';\n\n    for (let row = 0; row < gridSize; row++) {\n      for (let col = 0; col < gridSize; col++) {\n        const pixel = document.createElement('div');\n        pixel.classList.add('pixelated-image-card__pixel');\n        pixel.style.backgroundColor = pixelColor;\n\n        const size = 100 / gridSize;\n        pixel.style.width = `${size}%`;\n        pixel.style.height = `${size}%`;\n        pixel.style.left = `${col * size}%`;\n        pixel.style.top = `${row * size}%`;\n        pixelGridEl.appendChild(pixel);\n      }\n    }\n  }, [gridSize, pixelColor]);\n\n  const animatePixels = activate => {\n    setIsActive(activate);\n\n    const pixelGridEl = pixelGridRef.current;\n    const activeEl = activeRef.current;\n    if (!pixelGridEl || !activeEl) return;\n\n    const pixels = pixelGridEl.querySelectorAll('.pixelated-image-card__pixel');\n    if (!pixels.length) return;\n\n    gsap.killTweensOf(pixels);\n    if (delayedCallRef.current) {\n      delayedCallRef.current.kill();\n    }\n\n    gsap.set(pixels, { display: 'none' });\n\n    const totalPixels = pixels.length;\n    const staggerDuration = animationStepDuration / totalPixels;\n\n    gsap.to(pixels, {\n      display: 'block',\n      duration: 0,\n      stagger: {\n        each: staggerDuration,\n        from: 'random'\n      }\n    });\n\n    delayedCallRef.current = gsap.delayedCall(animationStepDuration, () => {\n      activeEl.style.display = activate ? 'block' : 'none';\n      activeEl.style.pointerEvents = activate ? 'none' : '';\n    });\n\n    gsap.to(pixels, {\n      display: 'none',\n      duration: 0,\n      delay: animationStepDuration,\n      stagger: {\n        each: staggerDuration,\n        from: 'random'\n      }\n    });\n  };\n\n  const handleEnter = () => {\n    if (!isActive) animatePixels(true);\n  };\n  const handleLeave = () => {\n    if (isActive && !once) animatePixels(false);\n  };\n  const handleClick = () => {\n    if (!isActive) animatePixels(true);\n    else if (isActive && !once) animatePixels(false);\n  };\n\n  return (\n    <div\n      ref={containerRef}\n      className={`pixelated-image-card ${className}`}\n      style={style}\n      onMouseEnter={!isTouchDevice ? handleEnter : undefined}\n      onMouseLeave={!isTouchDevice ? handleLeave : undefined}\n      onClick={isTouchDevice ? handleClick : undefined}\n      onFocus={!isTouchDevice ? handleEnter : undefined}\n      onBlur={!isTouchDevice ? handleLeave : undefined}\n      tabIndex={0}\n    >\n      <div style={{ paddingTop: aspectRatio }} />\n      <div className=\"pixelated-image-card__default\" aria-hidden={isActive}>\n        {firstContent}\n      </div>\n      <div className=\"pixelated-image-card__active\" ref={activeRef} aria-hidden={!isActive}>\n        {secondContent}\n      </div>\n      <div className=\"pixelated-image-card__pixels\" ref={pixelGridRef} />\n    </div>\n  );\n}\n\nexport default PixelTransition;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}