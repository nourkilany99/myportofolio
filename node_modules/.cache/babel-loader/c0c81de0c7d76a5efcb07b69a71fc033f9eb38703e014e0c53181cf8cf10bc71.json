{"ast":null,"code":"import _objectSpread from\"/Users/nourelkilany/Desktop/year 4 /java/myy/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useRef,useEffect,useState}from'react';import{gsap}from'gsap';import{ScrollTrigger}from'gsap/ScrollTrigger';import{SplitText as GSAPSplitText}from'gsap/SplitText';import{useGSAP}from'@gsap/react';import{jsx as _jsx}from\"react/jsx-runtime\";gsap.registerPlugin(ScrollTrigger,GSAPSplitText,useGSAP);const SplitText=_ref=>{let{text,className='',delay=100,duration=0.6,ease='power3.out',splitType='chars',from={opacity:0,y:40},to={opacity:1,y:0},threshold=0.1,rootMargin='-100px',textAlign='center',tag='p',onLetterAnimationComplete}=_ref;const ref=useRef(null);const animationCompletedRef=useRef(false);const[fontsLoaded,setFontsLoaded]=useState(false);useEffect(()=>{if(document.fonts.status==='loaded'){setFontsLoaded(true);}else{document.fonts.ready.then(()=>{setFontsLoaded(true);});}},[]);useGSAP(()=>{if(!ref.current||!text||!fontsLoaded)return;const el=ref.current;if(el._rbsplitInstance){try{el._rbsplitInstance.revert();}catch(_){/* noop */}el._rbsplitInstance=null;}const startPct=(1-threshold)*100;const marginMatch=/^(-?\\d+(?:\\.\\d+)?)(px|em|rem|%)?$/.exec(rootMargin);const marginValue=marginMatch?parseFloat(marginMatch[1]):0;const marginUnit=marginMatch?marginMatch[2]||'px':'px';const sign=marginValue===0?'':marginValue<0?\"-=\".concat(Math.abs(marginValue)).concat(marginUnit):\"+=\".concat(marginValue).concat(marginUnit);const start=\"top \".concat(startPct,\"%\").concat(sign);let targets;const assignTargets=self=>{if(splitType.includes('chars')&&self.chars.length)targets=self.chars;if(!targets&&splitType.includes('words')&&self.words.length)targets=self.words;if(!targets&&splitType.includes('lines')&&self.lines.length)targets=self.lines;if(!targets)targets=self.chars||self.words||self.lines;};const splitInstance=new GSAPSplitText(el,{type:splitType,smartWrap:true,autoSplit:splitType==='lines',linesClass:'split-line',wordsClass:'split-word',charsClass:'split-char',reduceWhiteSpace:false,onSplit:self=>{assignTargets(self);const tween=gsap.fromTo(targets,_objectSpread({},from),_objectSpread(_objectSpread({},to),{},{duration,ease,stagger:delay/1000,scrollTrigger:{trigger:el,start,once:true,fastScrollEnd:true,anticipatePin:0.4},onComplete:()=>{animationCompletedRef.current=true;onLetterAnimationComplete===null||onLetterAnimationComplete===void 0?void 0:onLetterAnimationComplete();},willChange:'transform, opacity',force3D:true}));return tween;}});el._rbsplitInstance=splitInstance;return()=>{ScrollTrigger.getAll().forEach(st=>{if(st.trigger===el)st.kill();});try{splitInstance.revert();}catch(_){/* noop */}el._rbsplitInstance=null;};},{dependencies:[text,delay,duration,ease,splitType,JSON.stringify(from),JSON.stringify(to),threshold,rootMargin,fontsLoaded,onLetterAnimationComplete],scope:ref});const renderTag=()=>{const style={textAlign,overflow:'hidden',display:'inline-block',whiteSpace:'normal',wordWrap:'break-word',willChange:'transform, opacity'};const classes=\"split-parent \".concat(className);switch(tag){case'h1':return/*#__PURE__*/_jsx(\"h1\",{ref:ref,style:style,className:classes,children:text});case'h2':return/*#__PURE__*/_jsx(\"h2\",{ref:ref,style:style,className:classes,children:text});case'h3':return/*#__PURE__*/_jsx(\"h3\",{ref:ref,style:style,className:classes,children:text});case'h4':return/*#__PURE__*/_jsx(\"h4\",{ref:ref,style:style,className:classes,children:text});case'h5':return/*#__PURE__*/_jsx(\"h5\",{ref:ref,style:style,className:classes,children:text});case'h6':return/*#__PURE__*/_jsx(\"h6\",{ref:ref,style:style,className:classes,children:text});default:return/*#__PURE__*/_jsx(\"p\",{ref:ref,style:style,className:classes,children:text});}};return renderTag();};export default SplitText;","map":{"version":3,"names":["useRef","useEffect","useState","gsap","ScrollTrigger","SplitText","GSAPSplitText","useGSAP","jsx","_jsx","registerPlugin","_ref","text","className","delay","duration","ease","splitType","from","opacity","y","to","threshold","rootMargin","textAlign","tag","onLetterAnimationComplete","ref","animationCompletedRef","fontsLoaded","setFontsLoaded","document","fonts","status","ready","then","current","el","_rbsplitInstance","revert","_","startPct","marginMatch","exec","marginValue","parseFloat","marginUnit","sign","concat","Math","abs","start","targets","assignTargets","self","includes","chars","length","words","lines","splitInstance","type","smartWrap","autoSplit","linesClass","wordsClass","charsClass","reduceWhiteSpace","onSplit","tween","fromTo","_objectSpread","stagger","scrollTrigger","trigger","once","fastScrollEnd","anticipatePin","onComplete","willChange","force3D","getAll","forEach","st","kill","dependencies","JSON","stringify","scope","renderTag","style","overflow","display","whiteSpace","wordWrap","classes","children"],"sources":["/Users/nourelkilany/Desktop/year 4 /java/myy/src/animation/Texty.jsx"],"sourcesContent":["import { useRef, useEffect, useState } from 'react';\nimport { gsap } from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\nimport { SplitText as GSAPSplitText } from 'gsap/SplitText';\nimport { useGSAP } from '@gsap/react';\n\ngsap.registerPlugin(ScrollTrigger, GSAPSplitText, useGSAP);\n\nconst SplitText = ({\n  text,\n  className = '',\n  delay = 100,\n  duration = 0.6,\n  ease = 'power3.out',\n  splitType = 'chars',\n  from = { opacity: 0, y: 40 },\n  to = { opacity: 1, y: 0 },\n  threshold = 0.1,\n  rootMargin = '-100px',\n  textAlign = 'center',\n  tag = 'p',\n  onLetterAnimationComplete\n}) => {\n  const ref = useRef(null);\n  const animationCompletedRef = useRef(false);\n  const [fontsLoaded, setFontsLoaded] = useState(false);\n\n  useEffect(() => {\n    if (document.fonts.status === 'loaded') {\n      setFontsLoaded(true);\n    } else {\n      document.fonts.ready.then(() => {\n        setFontsLoaded(true);\n      });\n    }\n  }, []);\n\n  useGSAP(\n    () => {\n      if (!ref.current || !text || !fontsLoaded) return;\n      const el = ref.current;\n\n      if (el._rbsplitInstance) {\n        try {\n          el._rbsplitInstance.revert();\n        } catch (_) {\n          /* noop */\n        }\n        el._rbsplitInstance = null;\n      }\n\n      const startPct = (1 - threshold) * 100;\n      const marginMatch = /^(-?\\d+(?:\\.\\d+)?)(px|em|rem|%)?$/.exec(rootMargin);\n      const marginValue = marginMatch ? parseFloat(marginMatch[1]) : 0;\n      const marginUnit = marginMatch ? marginMatch[2] || 'px' : 'px';\n      const sign =\n        marginValue === 0\n          ? ''\n          : marginValue < 0\n            ? `-=${Math.abs(marginValue)}${marginUnit}`\n            : `+=${marginValue}${marginUnit}`;\n      const start = `top ${startPct}%${sign}`;\n\n      let targets;\n      const assignTargets = self => {\n        if (splitType.includes('chars') && self.chars.length) targets = self.chars;\n        if (!targets && splitType.includes('words') && self.words.length) targets = self.words;\n        if (!targets && splitType.includes('lines') && self.lines.length) targets = self.lines;\n        if (!targets) targets = self.chars || self.words || self.lines;\n      };\n\n      const splitInstance = new GSAPSplitText(el, {\n        type: splitType,\n        smartWrap: true,\n        autoSplit: splitType === 'lines',\n        linesClass: 'split-line',\n        wordsClass: 'split-word',\n        charsClass: 'split-char',\n        reduceWhiteSpace: false,\n        onSplit: self => {\n          assignTargets(self);\n          const tween = gsap.fromTo(\n            targets,\n            { ...from },\n            {\n              ...to,\n              duration,\n              ease,\n              stagger: delay / 1000,\n              scrollTrigger: {\n                trigger: el,\n                start,\n                once: true,\n                fastScrollEnd: true,\n                anticipatePin: 0.4\n              },\n              onComplete: () => {\n                animationCompletedRef.current = true;\n                onLetterAnimationComplete?.();\n              },\n              willChange: 'transform, opacity',\n              force3D: true\n            }\n          );\n          return tween;\n        }\n      });\n\n      el._rbsplitInstance = splitInstance;\n\n      return () => {\n        ScrollTrigger.getAll().forEach(st => {\n          if (st.trigger === el) st.kill();\n        });\n        try {\n          splitInstance.revert();\n        } catch (_) {\n          /* noop */\n        }\n        el._rbsplitInstance = null;\n      };\n    },\n    {\n      dependencies: [\n        text,\n        delay,\n        duration,\n        ease,\n        splitType,\n        JSON.stringify(from),\n        JSON.stringify(to),\n        threshold,\n        rootMargin,\n        fontsLoaded,\n        onLetterAnimationComplete\n      ],\n      scope: ref\n    }\n  );\n\n  const renderTag = () => {\n    const style = {\n      textAlign,\n      overflow: 'hidden',\n      display: 'inline-block',\n      whiteSpace: 'normal',\n      wordWrap: 'break-word',\n      willChange: 'transform, opacity'\n    };\n    const classes = `split-parent ${className}`;\n    switch (tag) {\n      case 'h1':\n        return (\n          <h1 ref={ref} style={style} className={classes}>\n            {text}\n          </h1>\n        );\n      case 'h2':\n        return (\n          <h2 ref={ref} style={style} className={classes}>\n            {text}\n          </h2>\n        );\n      case 'h3':\n        return (\n          <h3 ref={ref} style={style} className={classes}>\n            {text}\n          </h3>\n        );\n      case 'h4':\n        return (\n          <h4 ref={ref} style={style} className={classes}>\n            {text}\n          </h4>\n        );\n      case 'h5':\n        return (\n          <h5 ref={ref} style={style} className={classes}>\n            {text}\n          </h5>\n        );\n      case 'h6':\n        return (\n          <h6 ref={ref} style={style} className={classes}>\n            {text}\n          </h6>\n        );\n      default:\n        return (\n          <p ref={ref} style={style} className={classes}>\n            {text}\n          </p>\n        );\n    }\n  };\n  return renderTag();\n};\n\nexport default SplitText;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}