{"ast":null,"code":"import{useEffect,useRef,useMemo}from'react';import{gsap}from'gsap';import{ScrollTrigger}from'gsap/ScrollTrigger';import'./Reveal.css';import{jsx as _jsx}from\"react/jsx-runtime\";gsap.registerPlugin(ScrollTrigger);const ScrollReveal=_ref=>{let{children,scrollContainerRef,enableBlur=true,baseOpacity=0.1,baseRotation=3,blurStrength=4,containerClassName='',textClassName='',rotationEnd='bottom bottom',wordAnimationEnd='bottom bottom'}=_ref;const containerRef=useRef(null);const splitText=useMemo(()=>{const text=typeof children==='string'?children:'';return text.split(/(\\s+)/).map((word,index)=>{if(word.match(/^\\s+$/))return word;return/*#__PURE__*/_jsx(\"span\",{className:\"word\",children:word},index);});},[children]);useEffect(()=>{const el=containerRef.current;if(!el)return;const scroller=scrollContainerRef&&scrollContainerRef.current?scrollContainerRef.current:window;gsap.fromTo(el,{transformOrigin:'0% 50%',rotate:baseRotation},{ease:'none',rotate:0,scrollTrigger:{trigger:el,scroller,start:'top bottom',end:rotationEnd,scrub:true}});const wordElements=el.querySelectorAll('.word');gsap.fromTo(wordElements,{opacity:baseOpacity,willChange:'opacity'},{ease:'none',opacity:1,stagger:0.05,scrollTrigger:{trigger:el,scroller,start:'top bottom-=20%',end:wordAnimationEnd,scrub:true}});if(enableBlur){gsap.fromTo(wordElements,{filter:\"blur(\".concat(blurStrength,\"px)\")},{ease:'none',filter:'blur(0px)',stagger:0.05,scrollTrigger:{trigger:el,scroller,start:'top bottom-=20%',end:wordAnimationEnd,scrub:true}});}return()=>{ScrollTrigger.getAll().forEach(trigger=>trigger.kill());};},[scrollContainerRef,enableBlur,baseRotation,baseOpacity,rotationEnd,wordAnimationEnd,blurStrength]);return/*#__PURE__*/_jsx(\"h2\",{ref:containerRef,className:\"scroll-reveal \".concat(containerClassName),children:/*#__PURE__*/_jsx(\"p\",{className:\"scroll-reveal-text \".concat(textClassName),children:splitText})});};export default ScrollReveal;","map":{"version":3,"names":["useEffect","useRef","useMemo","gsap","ScrollTrigger","jsx","_jsx","registerPlugin","ScrollReveal","_ref","children","scrollContainerRef","enableBlur","baseOpacity","baseRotation","blurStrength","containerClassName","textClassName","rotationEnd","wordAnimationEnd","containerRef","splitText","text","split","map","word","index","match","className","el","current","scroller","window","fromTo","transformOrigin","rotate","ease","scrollTrigger","trigger","start","end","scrub","wordElements","querySelectorAll","opacity","willChange","stagger","filter","concat","getAll","forEach","kill","ref"],"sources":["/Users/nourelkilany/Desktop/year 4 /java/myy/src/animation/Reveal.jsx"],"sourcesContent":["import { useEffect, useRef, useMemo } from 'react';\nimport { gsap } from 'gsap';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\n\n\nimport './Reveal.css';\n\ngsap.registerPlugin(ScrollTrigger);\n\nconst ScrollReveal = ({\n  children,\n  scrollContainerRef,\n  enableBlur = true,\n  baseOpacity = 0.1,\n  baseRotation = 3,\n  blurStrength = 4,\n  containerClassName = '',\n  textClassName = '',\n  rotationEnd = 'bottom bottom',\n  wordAnimationEnd = 'bottom bottom'\n}) => {\n  const containerRef = useRef(null);\n\n  const splitText = useMemo(() => {\n    const text = typeof children === 'string' ? children : '';\n    return text.split(/(\\s+)/).map((word, index) => {\n      if (word.match(/^\\s+$/)) return word;\n      return (\n        <span className=\"word\" key={index}>\n          {word}\n        </span>\n      );\n    });\n  }, [children]);\n\n  useEffect(() => {\n    const el = containerRef.current;\n    if (!el) return;\n\n    const scroller = scrollContainerRef && scrollContainerRef.current ? scrollContainerRef.current : window;\n\n    gsap.fromTo(\n      el,\n      { transformOrigin: '0% 50%', rotate: baseRotation },\n      {\n        ease: 'none',\n        rotate: 0,\n        scrollTrigger: {\n          trigger: el,\n          scroller,\n          start: 'top bottom',\n          end: rotationEnd,\n          scrub: true\n        }\n      }\n    );\n\n    const wordElements = el.querySelectorAll('.word');\n\n    gsap.fromTo(\n      wordElements,\n      { opacity: baseOpacity, willChange: 'opacity' },\n      {\n        ease: 'none',\n        opacity: 1,\n        stagger: 0.05,\n        scrollTrigger: {\n          trigger: el,\n          scroller,\n          start: 'top bottom-=20%',\n          end: wordAnimationEnd,\n          scrub: true\n        }\n      }\n    );\n\n    if (enableBlur) {\n      gsap.fromTo(\n        wordElements,\n        { filter: `blur(${blurStrength}px)` },\n        {\n          ease: 'none',\n          filter: 'blur(0px)',\n          stagger: 0.05,\n          scrollTrigger: {\n            trigger: el,\n            scroller,\n            start: 'top bottom-=20%',\n            end: wordAnimationEnd,\n            scrub: true\n          }\n        }\n      );\n    }\n\n    return () => {\n      ScrollTrigger.getAll().forEach(trigger => trigger.kill());\n    };\n  }, [scrollContainerRef, enableBlur, baseRotation, baseOpacity, rotationEnd, wordAnimationEnd, blurStrength]);\n\n  return (\n    <h2 ref={containerRef} className={`scroll-reveal ${containerClassName}`}>\n      <p className={`scroll-reveal-text ${textClassName}`}>{splitText}</p>\n    </h2>\n  );\n};\n\nexport default ScrollReveal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}